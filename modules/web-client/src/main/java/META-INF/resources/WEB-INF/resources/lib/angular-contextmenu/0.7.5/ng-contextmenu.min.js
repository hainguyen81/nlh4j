/*! ng-contextmenu by Adam Timberlake <adam.timberlake@gmail.com> created on 2015-10-27 */
!function(a,b){"use strict";var c=a.module("ngContextMenu",[]);c.factory("contextMenu",["$rootScope",function(a){function b(){a.$broadcast("context-menu/close")}return{cancelAll:b,eventBound:!1}}]),c.directive("contextMenu",["$http","$timeout","$interpolate","$compile","contextMenu",function(c,d,e,f,g){return{restrict:"EA",scope:!0,require:"?ngModel",link:function(d,h,i,j){function k(){d.menu&&(d.menu.remove(),d.menu=null,d.position=null)}function l(){return j?a.extend(d,j.$modelValue):d}function m(b,j){if(j=j||"append","preventDefault"in b)g.cancelAll(),b.stopPropagation(),b.preventDefault(),d.position={x:b.clientX,y:b.clientY};else if(!d.menu)return;c.get(i.contextMenu,{cache:!0}).then(function(b){var c=f(b.data)(a.extend(l())),g=a.element(c);switch(j){case"append":h.append(g);break;default:d.menu.replaceWith(g)}g.css({position:"fixed",top:0,left:0,transform:e("translate({{x}}px, {{y}}px)")({x:d.position.x,y:d.position.y})}),d.menu=g,d.menu.bind("click",k)})}if(g.eventBound||(b.addEventListener("click",function(){g.cancelAll(),d.$apply()}),g.eventBound=!0),d.$on("context-menu/close",k),j){var n=function(){return j.$modelValue};d.$watch(n,function(){m({},"replaceWith")},!0)}h.bind(i.contextEvent||"contextmenu",m)}}}])}(window.angular,window.document);