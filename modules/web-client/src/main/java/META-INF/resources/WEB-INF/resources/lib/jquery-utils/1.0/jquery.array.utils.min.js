(function($){if(!Array.prototype.clear){Array.prototype.clear=function(){this.splice(0,this.length)}}
if(!Array.prototype.inject){Array.prototype.inject=function(idx,items){var subItems=[];if(items instanceof Array||Object.prototype.toString.call(items)==="[object Array]"){subItems=[].concat(items)}else if(items){subItems.push(items)}
if(subItems.length&&!isNaN(idx)&&0<=idx&&idx<this.length){this.splice.apply(this,[idx+1,0].concat(subItems))}}}
if(!Array.prototype.removeAt){Array.prototype.removeAt=function(idx,cnt){var item=null;cnt=(isNaN(cnt)||cnt<=0?1:cnt);if(!isNaN(idx)&&0<=idx&&idx<this.length){item=this[idx];cnt=Math.min(cnt,this.length-idx);this.splice(idx,cnt)}
return item}}
if(!Array.prototype.removeArray){Array.prototype.removeArray=function(items){var cnt=0;var subItems=[];if(items instanceof Array||Object.prototype.toString.call(items)==="[object Array]"){subItems=[].concat(items)}else if(items){subItems.push(items)}
if(subItems.length){for(var i=0;i<subItems.length;i++){cnt+=(this.remove(subItems[i])>=0?1:0)}}
return cnt}}
if(!Array.prototype.remove){Array.prototype.remove=function(item){var idx=-1;if(this.indexOf(item)>=0){idx=this.indexOf(item);if(0<=idx&&idx<this.length)this.splice(idx,1);else idx=-1}
return idx}}
if(!Array.prototype.first){Array.prototype.first=function(){return(this.length<=0?null:this[0])}}
if(!Array.prototype.last){Array.prototype.last=function(){return(this.length<=0?null:this[this.length-1])}}
if(!Array.prototype.add){Array.prototype.add=function(item,idx){idx=(isNaN(idx)||idx<=0?0:idx);idx=(idx>=this.length?this.length:idx);this.splice(idx,0,item)}}
if(!Array.prototype.unique){Array.prototype.unique=function(){var a=this.concat();if(this.length){for(var i=0;i<a.length;i++){for(var j=i+1;j<a.length;j++){if(a[i]===a[j])a.splice(j--,1)}}}
return a}}
if(!Array.prototype.sortBy){Array.prototype.sortBy=function(desc,key){if(this.length){this.sort(function(it1,it2){return desc?~~(key&&key.length?it1[key]<it2[key]:it1<it2):~~(key?it1[key]>it2[key]:it1>it2)})}}}
if(!Array.prototype.contain){Array.prototype.contain=function(item){return(this.length&&this.indexOf(item)>=0)}}
if(!Array.prototype.diff){Array.prototype.diff=function(a){var isDiff=!0;if(a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"){var b=this;isDiff=(b.length!=a.length);if(!isDiff){for(var i=0;i<a.length;i++){if(!b.contain(a[i])){isDiff=!0;break}}}}
return isDiff}}})(jQuery)