/*!
 * angular-dateParser 1.0.14
 * https://github.com/dnasir/angular-dateParser
 * Copyright (c) 2015, Dzulqarnain Nasir
 * Licensed under: MIT
 */
angular.module("dateParser",[]).factory("dateParserHelpers",[function(){"use strict";var e={};return{getInteger:function(t,r,n,a){var l=t.substring(r),s=e[n+"_"+a];s||(s=new RegExp("^(\\d{"+n+","+a+"})"),e[n+"_"+a]=s);var i=s.exec(l);return i?i[1]:null}}}]).factory("$dateParser",["$locale","dateParserHelpers",function(e,t){"use strict";var r=e.DATETIME_FORMATS,n=r.MONTH.concat(r.SHORTMONTH),a=r.DAY.concat(r.SHORTDAY);return function(e,l){if(angular.isDate(e))return e;try{if(e+="",l+="",!l.length)return new Date(e);r[l]&&(l=r[l]);for(var s=new Date,i=0,g=0,o="",h=s.getFullYear(),u=s.getMonth()+1,f=s.getDate(),d=0,v=0,c=0,I=0,w="am",m=0,M=!1;g<l.length;){o=l.charAt(g);var y="";if("'"!=l.charAt(g)){for(;l.charAt(g)==o&&g<l.length;)y+=l.charAt(g++);if("yyyy"==y||"yy"==y||"y"==y){var p,b;if("yyyy"==y&&(p=4,b=4),"yy"==y&&(p=2,b=2),"y"==y&&(p=2,b=4),h=t.getInteger(e,i,p,b),null===h)throw"Invalid year";i+=h.length,2==h.length&&(h=h>70?1900+(h-0):2e3+(h-0))}else if("MMMM"===y||"MMM"==y){u=0;for(var A=0;A<n.length;A++){var P=n[A];if(e.substring(i,i+P.length).toLowerCase()==P.toLowerCase()){u=A+1,u>12&&(u-=12),i+=P.length;break}}if(1>u||u>12)throw"Invalid month"}else if("EEEE"==y||"EEE"==y)for(var $=0;$<a.length;$++){var D=a[$];if(e.substring(i,i+D.length).toLowerCase()==D.toLowerCase()){i+=D.length;break}}else if("MM"==y||"M"==y){if(u=t.getInteger(e,i,y.length,2),null===u||1>u||u>12)throw"Invalid month";i+=u.length}else if("dd"==y||"d"==y){if(f=t.getInteger(e,i,y.length,2),null===f||1>f||f>31)throw"Invalid date";i+=f.length}else if("HH"==y||"H"==y){if(d=t.getInteger(e,i,y.length,2),null===d||0>d||d>23)throw"Invalid hours";i+=d.length}else if("hh"==y||"h"==y){if(d=t.getInteger(e,i,y.length,2),null===d||1>d||d>12)throw"Invalid hours";i+=d.length}else if("mm"==y||"m"==y){if(v=t.getInteger(e,i,y.length,2),null===v||0>v||v>59)throw"Invalid minutes";i+=v.length}else if("ss"==y||"s"==y){if(c=t.getInteger(e,i,y.length,2),null===c||0>c||c>59)throw"Invalid seconds";i+=c.length}else if("sss"===y){if(I=t.getInteger(e,i,3,3),null===I||0>I||I>999)throw"Invalid milliseconds";i+=3}else if("a"==y){if("am"==e.substring(i,i+2).toLowerCase())w="AM";else{if("pm"!=e.substring(i,i+2).toLowerCase())throw"Invalid AM/PM";w="PM"}i+=2}else if("Z"==y){if(M=!0,"Z"===e[i])m=0,i+=1;else if(":"===e[i+3]){var E=e.substring(i,i+6);m=60*parseInt(E.substr(0,3),10)+parseInt(E.substr(4,2),10),i+=6}else{var E=e.substring(i,i+5);m=60*parseInt(E.substr(0,3),10)+parseInt(E.substr(3,2),10),i+=5}if(m>720||-720>m)throw"Invalid timezone"}else{if(e.substring(i,i+y.length)!=y)throw"Pattern value mismatch";i+=y.length}}else{for(;"'"!=l.charAt(++g)&&g<l.length;)y+=l.charAt(g);if(e.substring(i,i+y.length)!=y)throw"Pattern value mismatch";i+=y.length,g++}}if(i!=e.length)throw"Pattern value mismatch";if(h=parseInt(h,10),u=parseInt(u,10),f=parseInt(f,10),d=parseInt(d,10),v=parseInt(v,10),c=parseInt(c,10),I=parseInt(I,10),2==u)if(h%4===0&&h%100!==0||h%400===0){if(f>29)throw"Invalid date"}else if(f>28)throw"Invalid date";if((4==u||6==u||9==u||11==u)&&f>30)throw"Invalid date";12>d&&"PM"==w?d+=12:d>11&&"AM"==w&&(d-=12);var H=new Date(h,u-1,f,d,v,c,I);return M?new Date(H.getTime()-6e4*(m+H.getTimezoneOffset())):H}catch(T){return void 0}}}]),angular.module("dateParser").directive("dateParser",["dateFilter","$dateParser",function(e,t){"use strict";return{restrict:"A",require:"ngModel",link:function(r,n,a,l){var s;a.$observe("dateParser",function(e){s=e,l.$render()}),l.$parsers.unshift(function(e){var r=t(e,s);return l.$setValidity("date",!e||angular.isDate(r)),r}),l.$render=function(){n.val(l.$modelValue?e(l.$modelValue,s):void 0),r.ngModel=l.$modelValue},l.$formatters.push(function(t){return l.$setValidity("date",!t||angular.isDate(t)),angular.isDate(t)?e(t,s):""})}}}]);
//# sourceMappingURL=angular-dateparser.min.js.map
